# Intents Domain Model

## Overview
The functionality to iteratively capture information for turning an intent into a prompt that a language model can execute well.

---

## Entities

### Intent
**Description:** Work that the user wants to accomplish through AI interaction (e.g., "summarize this document," "extract key dates," "generate creative alternatives"). The intent is most often used on multiple instances and situations. It is not a one-off but the starting point of what might be called a programme in software engineering. Intents are updatable.

**Properties:**
- `name` (string): name of the intent
- `description` (string): A textual description of what is to be accomplished
- `output_format` (string): The technical representation or encoding of the AI's response (e.g., JSON, XML, CSV, plain text, Markdown, HTML)
- `output_structure` (string, optional): The organization and composition of the result's content, independent of its technical format (e.g., bullet points vs. paragraphs, table with specific columns, sections with headers, or a custom template with particular fields and their arrangement). The structure is maintained as text.
- `context` (string, optional): Broader, dynamic information that may be retrieved from systems or external sources to inform prompt generation (e.g., user's role and permissions, recent project activity, organizational policies, current system state, or relevant historical interactions). Context is typically more fluid and situational than facts.
- `constraints` (string, optional): Conditions that further describe how the intent must be achieved (e.g., word limits, tone requirements, format specifications, excluded topics, or quality criteria)
- `created_at` (timestamp): When the intent was created
- `updated_at` (timestamp): When the intent was last updated


---

### Fact
**Description:** Critical, specific information that needs to be used for generating the prompt (e.g., particular data points, explicit requirements, key details that must be incorporated, or concrete values). Facts are typically more static and explicit than context. Facts are updatable.

**Properties:**
- `value` (string): The actual fact content or data point
- `created_at` (timestamp): When the fact was created
- `updated_at` (timestamp): When the fact was last updated

---

### Prompt
**Description:** A textual instruction or query given to a generative AI system to produce a desired output. In the context of this system, this is the resulting prompt that is generated from the user's declarative specification and used to generate the final output. Prompts are only generated by the system, are readonly, and have increasing version numbers.

**Properties:**
- `content` (string): The textual instruction or query for the generative AI system
- `version` (integer): Version number that increases for each new version of the prompt
- `created_at` (timestamp): When the prompt was created

---

### Output
**Description:** What was produced through generative AI given a prompt. Outputs are readonly after they have been created.

**Properties:**
- `content` (string): The output content produced by the generative AI system
- `created_at` (timestamp): When the output was created

---

### Insight
**Description:** Discoveries made during editing that need to be translated into further information for the intent. An insight may be related to a source, which can be either a prompt or an output. Insights are updatable.

**Properties:**
- `content` (string): The insight content or discovery
- `created_at` (timestamp): When the insight was discovered
- `updated_at` (timestamp): When the insight was last updated

---

## Relationships

- Intent has many Facts (one-to-many relationship)
- Intent has many Prompts (one-to-many relationship)
- Prompt produces many Outputs (one-to-many relationship)
- Insight has a source (Prompt OR Output, optional relationship)
- Insight relates to Intent (needs to be translated into further information for the intent)

---

## Constraints & Validations

- [Business constraint 1]
- [Business constraint 2]

---

## Notes

[Any additional context, assumptions, or domain-specific information]

